{% extends 'base.html.twig' %}

{% form_theme search_form 'bootstrap_5_layout.html.twig' %}

{% block title %}Dashboard{% endblock %}


{% block stylesheets %}
    {{ parent() }}
{% endblock %}


{% block javascripts %}
    {{ parent() }}
{% endblock %}


{% block body %}


    <div class="container  bg-light">
        <h3>Filtro de Pesquisa de Resultados</h3>
        {{ form_start(search_form)}}

        <form class="row g-3 ">
            <div class="row g-3">
                <div class="col-sm-3">
                    {#<input type="text" class="form-control" placeholder="Data de Inicio" aria-label="Data de Inicio">#}
                    {{ form_row(search_form.data_inicio) }}
                </div>
                <div class="col-sm-3">
                    {#<input type="text" class="form-control" placeholder="Data de Fim" aria-label="Data de Inicio">#}
                    {{ form_row(search_form.data_fim) }}
                </div>
                <div class="col-sm-3">
                    <input type="submit" class="btn btn-primary" value="Filtrar">
                    <input type="button" class="btn btn-secondary" value="Limpar" onclick="clearForm();">
                </div>
            </div>
            {{ form_rest(search_form) }}
            {{ form_end(search_form) }}
            <br>

            </div> 




            <div class="container">
                <hr/>


                <div class="row">
                    <div class="col">

                        <h2>CANDIDATOS</h2>
                        <table class="table  table-striped">
                            <thead>         
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">MÉDIA</th>
                                    <th scope="col">TOTAL</th>
                                </tr>
                            </thead>          

                            <tbody>
                                <tr>
                                    <td>Hoje</td>
                                    <td>{{ results['candidatosToday'] }}</td>
                                    <td>{{ results['candidatosToday'] }}</td>
                                </tr>


                                <tr>
                                    <td>Últimos 7 dias</td>
                                    <td>{{ results['candidatos7Days'] / 7 }}</td>
                                    <td>{{ results['candidatos7Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Últimos 30 dias</td>
                                    <td>{{ results['candidatos30Days'] /30 }}</td>
                                    <td>{{ results['candidatos30Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Resultado do filtro</td>
                                    <td>{{ results['candidatosFilter'] /  results['intervalInDays'] }}</td>
                                    <td>{{ results['candidatosFilter'] }}</td>intervalInDays
                                </tr>
                            </tbody>
                        </table>
                    </div>


                    <div class="col">
                        <h2>CURRICULOS</h2>
                        <table class="table  table-striped">
                            <thead>         
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">MÉDIA</th>
                                    <th scope="col">TOTAL</th>
                                </tr>
                            </thead>          

                           <tbody>
                                <tr>
                                    <td>Hoje</td>
                                    <td>{{ results['curriculosToday'] }}</td>
                                    <td>{{ results['curriculosToday'] }}</td>
                                </tr>


                                <tr>
                                    <td>Últimos 7 dias</td>
                                    <td>{{ results['curriculos7Days'] / 7 }}</td>
                                    <td>{{ results['curriculos7Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Últimos 30 dias</td>
                                    <td>{{ results['curriculos30Days'] /30 }}</td>
                                    <td>{{ results['curriculos30Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Resultado do filtro</td>
                                    <td>{{ results['curriculosFilter'] /  results['intervalInDays'] }}</td>
                                    <td>{{ results['curriculosFilter'] }}</td>intervalInDays
                                </tr>
                            </tbody>
                        </table>



                    </div>
                </div>


                <!-- start second row -->
                <div class="row">
                    <div class="col">
                        <br>
                        <h2>VAGAS</h2>
                        <table class="table  table-striped">
                            <thead>         
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">MÉDIA</th>
                                    <th scope="col">TOTAL</th>
                                </tr>
                            </thead>          

                           <tbody>
                                <tr>
                                    <td>Hoje</td>
                                    <td>{{ results['vagasToday'] }}</td>
                                    <td>{{ results['vagasToday'] }}</td>
                                </tr>


                                <tr>
                                    <td>Últimos 7 dias</td>
                                    <td>{{ results['vagas7Days'] / 7 }}</td>
                                    <td>{{ results['vagas7Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Últimos 30 dias</td>
                                    <td>{{ results['vagas30Days'] /30 }}</td>
                                    <td>{{ results['vagas30Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Resultado do filtro</td>
                                    <td>{{ results['vagasFilter'] /  results['intervalInDays'] }}</td>
                                    <td>{{ results['vagasFilter'] }}</td>intervalInDays
                                </tr>
                            </tbody>
                        </table>
                    </div>


                    <div class="col">
                        <br>
                        <h2>CANDIDATURAS</h2>
                        <table class="table  table-striped">
                            <thead>         
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">MÉDIA</th>
                                    <th scope="col">TOTAL</th>
                                </tr>
                            </thead>          

                           <tbody>
                                <tr>
                                    <td>Hoje</td>
                                    <td>{{ results['candidaturasToday'] }}</td>
                                    <td>{{ results['candidaturasToday'] }}</td>
                                </tr>


                                <tr>
                                    <td>Últimos 7 dias</td>
                                    <td>{{ results['candidaturas7Days'] / 7 }}</td>
                                    <td>{{ results['candidaturas7Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Últimos 30 dias</td>
                                    <td>{{ results['candidaturas30Days'] /30 }}</td>
                                    <td>{{ results['candidaturas30Days'] }}</td>
                                </tr>

                                <tr>
                                    <td>Resultado do filtro</td>
                                    <td>{{ results['candidaturasFilter'] /  results['intervalInDays'] }}</td>
                                    <td>{{ results['candidaturasFilter'] }}</td>intervalInDays
                                </tr>
                            </tbody>
                        </table>



                    </div>
                </div>
                <!-- end second row -->





            </div>



            <script type="text/javascript">



                function clearForm() {
                    var elements = document.getElementsByTagName('select');
                    for (var i = 0; i < elements.length; i++)
                    {
                        elements[i].selectedIndex = 0;
                    }


                }
            </script>


        {% endblock %}
